import fetch from 'node-fetch';
import { renderMarkdown } from '@astrojs/markdown-support';
import { __astro_slot } from './dist/internal/__astro_slot.js';
import { h, Fragment } from './dist/internal/h.js';
import { __astro_hoisted_scripts as hoistedScripts } from './dist/internal/__astro_hoisted_scripts.js';
export { default as Prism } from './components/Prism.astro.js';
import 'prismjs/components/index.js';
import '@astrojs/prism';
import 'prismjs';

if(!('fetch' in globalThis)) {
  globalThis.fetch = fetch;
}


const __TopLevelAstro = {
  site: new URL("https://www.joshfinnie.com"),
  fetchContent: (globResult) => fetchContent(globResult, import.meta.url),
  resolve(...segments) {
    return segments.reduce(
      (url, segment) => new URL(segment, url),
      new URL("http://0.0.0.0:3333/_astro/node_modules/astro/components/Markdown.astro")
    ).pathname
  },
};

const __astroScripts = hoistedScripts([typeof renderMarkdown !== 'undefined' && renderMarkdown], []);
const __astroInternal = Symbol('astro.internal');
const __astroContext = Symbol.for('astro.context');
async function __render(props, ...children) {
  const Astro = Object.create(__TopLevelAstro, {
    props: {
      value: props,
      enumerable: true
    },
    pageCSS: {
      value: (props[__astroContext] && props[__astroContext].pageCSS) || [],
      enumerable: true
    },
    pageScripts: {
      value: (props[__astroContext] && props[__astroContext].pageScripts) || [],
      enumerable: true
    },
    isPage: {
      value: (props[__astroInternal] && props[__astroInternal].isPage) || false,
      enumerable: true
    },
    request: {
      value: (props[__astroContext] && props[__astroContext].request) || {},
      enumerable: true
    },
  });

  const {
  content,
  $scope
} = Astro.props;
let html = null;
if (content) {
  const {
    content: htmlContent
  } = await renderMarkdown(content, {
    mode: "md",
    $: {
      scopedClassName: $scope
    }
  });
  html = htmlContent;
}

  return h(Fragment, null, h(Fragment, null,(html ? html : h(Fragment, null, h(__astro_slot, { [__astroContext]: props[__astroContext] }, children)))));
}
var Markdown = { isAstroComponent: true, __render, [Symbol.for('astro.hoistedScripts')]: __astroScripts };

export { Markdown };
