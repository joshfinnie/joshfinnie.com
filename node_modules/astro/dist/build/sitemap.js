import {canonicalURL} from "./util.js";
function generateSitemap(buildState, site) {
  const uniqueURLs = new Set();
  for (const id of Object.keys(buildState)) {
    if (buildState[id].contentType !== "text/html")
      continue;
    uniqueURLs.add(canonicalURL(id, site).href);
  }
  const pages = [...uniqueURLs];
  pages.sort((a, b) => a.localeCompare(b, "en", {numeric: true}));
  let sitemap = `<?xml version="1.0" encoding="UTF-8"?><urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">`;
  for (const page of pages) {
    sitemap += `<url><loc>${page}</loc></url>`;
  }
  sitemap += `</urlset>
`;
  return sitemap;
}
export {
  generateSitemap
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjL2J1aWxkL3NpdGVtYXAudHMiXSwKICAibWFwcGluZ3MiOiAiQUFFQTtBQUdPLHlCQUF5QixZQUF5QixNQUFzQjtBQUM3RSxRQUFNLGFBQWEsSUFBSTtBQU12QixhQUFXLE1BQU0sT0FBTyxLQUFLLGFBQWE7QUFDeEMsUUFBSSxXQUFXLElBQUksZ0JBQWdCO0FBQWE7QUFDaEQsZUFBVyxJQUFJLGFBQWEsSUFBSSxNQUFNO0FBQUE7QUFHeEMsUUFBTSxRQUFRLENBQUMsR0FBRztBQUNsQixRQUFNLEtBQUssQ0FBQyxHQUFHLE1BQU0sRUFBRSxjQUFjLEdBQUcsTUFBTSxDQUFFLFNBQVM7QUFFekQsTUFBSSxVQUFVO0FBQ2QsYUFBVyxRQUFRLE9BQU87QUFDeEIsZUFBVyxhQUFhO0FBQUE7QUFFMUIsYUFBVztBQUFBO0FBQ1gsU0FBTztBQUFBOyIsCiAgIm5hbWVzIjogW10KfQo=
