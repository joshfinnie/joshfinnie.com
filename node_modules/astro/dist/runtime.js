var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
import parser from "@astrojs/parser";
import {existsSync, promises as fs} from "fs";
import {posix as path} from "path";
import {performance} from "perf_hooks";
import resolve from "resolve";
import {
  loadConfiguration,
  logger as snowpackLogger,
  NotFoundError,
  startServer as startSnowpackServer
} from "snowpack";
import {fileURLToPath} from "url";
import {generatePaginateFunction} from "./build/paginate.js";
import {canonicalURL, getSrcPath, stopTimer} from "./build/util.js";
import {ConfigManager} from "./config_manager.js";
import snowpackExternals from "./external.js";
import {debug, info} from "./logger.js";
import {createManifest} from "./manifest/create.js";
import {nodeBuiltinsMap} from "./node_builtins.js";
import {configureSnowpackLogger} from "./snowpack-logger.js";
import {convertMatchToLocation, validateGetStaticPathsModule, validateGetStaticPathsResult} from "./util.js";
const {CompileError} = parser;
configureSnowpackLogger(snowpackLogger);
function getParams(array) {
  const fn = (match) => {
    const params = {};
    array.forEach((key, i) => {
      if (key.startsWith("...")) {
        params[key.slice(3)] = match[i + 1] ? decodeURIComponent(match[i + 1]) : void 0;
      } else {
        params[key] = decodeURIComponent(match[i + 1]);
      }
    });
    return params;
  };
  return fn;
}
async function getStaticPathsMemoized(runtimeConfig, component, mod, args) {
  runtimeConfig.cache.staticPaths[component] = runtimeConfig.cache.staticPaths[component] || (await mod.exports.getStaticPaths(args)).flat();
  return runtimeConfig.cache.staticPaths[component];
}
async function load(config, rawPathname) {
  const {logging, snowpackRuntime, snowpack, configManager} = config;
  const {buildOptions, devOptions} = config.astroConfig;
  const site = new URL(buildOptions.site || `http://${devOptions.hostname}:${devOptions.port}`);
  const fullurl = new URL(rawPathname || "/", site.origin);
  const reqPath = decodeURI(fullurl.pathname);
  try {
    const result = await snowpack.loadUrl(reqPath);
    if (!result)
      throw new Error(`Unable to load ${reqPath}`);
    debug(logging, "access", reqPath);
    return __spreadValues({
      statusCode: 200
    }, result);
  } catch (err) {
    if (err.failed) {
      return {statusCode: 500, type: "unknown", error: err};
    }
  }
  info(logging, "access", reqPath);
  const routeMatch = config.manifest.routes.find((route) => route.pattern.test(reqPath));
  if (!routeMatch) {
    return {statusCode: 404, error: new Error("No matching route found.")};
  }
  const paramsMatch = routeMatch.pattern.exec(reqPath);
  const routeLocation = convertMatchToLocation(routeMatch, config.astroConfig);
  const params = paramsMatch ? getParams(routeMatch.params)(paramsMatch) : {};
  let pageProps = {};
  try {
    if (configManager.needsUpdate()) {
      await configManager.update();
    }
    const mod = await snowpackRuntime.importModule(routeLocation.snowpackURL);
    debug(logging, "resolve", `${reqPath} -> ${routeLocation.snowpackURL}`);
    if (!routeMatch.path) {
      validateGetStaticPathsModule(mod);
      const staticPaths = await getStaticPathsMemoized(config, routeMatch.component, mod, {
        paginate: generatePaginateFunction(routeMatch),
        rss: () => {
        }
      });
      validateGetStaticPathsResult(staticPaths, logging);
      const matchedStaticPath = staticPaths.find(({params: _params}) => JSON.stringify(_params) === JSON.stringify(params));
      if (!matchedStaticPath) {
        return {statusCode: 404, error: new Error(`[getStaticPaths] route pattern matched, but no matching static path found. (${reqPath})`)};
      }
      pageProps = __spreadValues({}, matchedStaticPath.props) || {};
    }
    const requestURL = new URL(fullurl.toString());
    if (reqPath !== "/500") {
      requestURL.search = "";
    }
    let html = await mod.exports.__renderPage({
      request: {
        params,
        url: requestURL,
        canonicalURL: canonicalURL(requestURL.pathname, site.toString())
      },
      children: [],
      props: pageProps,
      css: Array.isArray(mod.css) ? mod.css : typeof mod.css === "string" ? [mod.css] : [],
      scripts: mod.exports.default[Symbol.for("astro.hoistedScripts")]
    });
    return {
      statusCode: 200,
      contentType: "text/html; charset=utf-8",
      contents: html,
      rss: void 0
    };
  } catch (err) {
    if (err.code === "parse-error" || err instanceof SyntaxError) {
      return {
        statusCode: 500,
        type: "parse-error",
        error: err
      };
    }
    if (err instanceof ReferenceError && err.toString().includes("window is not defined")) {
      return {
        statusCode: 500,
        type: "ssr",
        error: new Error(`[${reqPath}]
    The window object is not available during server-side rendering (SSR).
    Try using \`import.meta.env.SSR\` to write SSR-friendly code.
    https://docs.astro.build/reference/api-reference/#importmeta`)
      };
    }
    if (err instanceof NotFoundError && rawPathname) {
      const fileMatch = err.toString().match(/\(([^\)]+)\)/);
      const missingFile = fileMatch && fileMatch[1].replace(/^\/_astro/, "").replace(/\.proxy\.js$/, "") || void 0;
      const distPath = path.extname(rawPathname) ? rawPathname : rawPathname.replace(/\/?$/, "/index.html");
      const srcFile = getSrcPath(distPath, {astroConfig: config.astroConfig});
      const code = existsSync(srcFile) ? await fs.readFile(srcFile, "utf8") : "";
      let start = 0;
      const segments = missingFile ? missingFile.split("/").filter((segment) => !!segment) : [];
      while (segments.length) {
        const importMatch = code.indexOf(segments.join("/"));
        if (importMatch >= 0) {
          start = importMatch;
          break;
        }
        segments.shift();
      }
      return {
        statusCode: 500,
        type: "not-found",
        error: new CompileError({
          code,
          filename: srcFile.pathname,
          start,
          end: 1,
          message: `Could not find${missingFile ? ` "${missingFile}"` : " file"}`
        })
      };
    }
    return {
      statusCode: 500,
      type: "unknown",
      error: err
    };
  }
}
async function createSnowpack(astroConfig, options) {
  var _a;
  const {projectRoot, src} = astroConfig;
  const {mode, logging, resolvePackageUrl} = options;
  const frontendPath = new URL("./frontend/", import.meta.url);
  const resolveDependency = (dep) => resolve.sync(dep, {basedir: fileURLToPath(projectRoot)});
  const isHmrEnabled = mode === "development";
  const configManager = new ConfigManager(astroConfig, resolvePackageUrl);
  let snowpack;
  let astroPluginOptions = {
    astroConfig,
    mode,
    logging,
    resolvePackageUrl,
    configManager
  };
  const mountOptions = __spreadProps(__spreadValues({}, existsSync(astroConfig.public) ? {[fileURLToPath(astroConfig.public)]: {url: "/", static: true, resolve: false}} : {}), {
    [fileURLToPath(frontendPath)]: "/_astro_frontend",
    [fileURLToPath(src)]: "/_astro/src"
  });
  if (astroConfig.devOptions.tailwindConfig) {
    process.env.TAILWIND_DISABLE_TOUCH = true;
  }
  const rendererInstances = await configManager.buildRendererInstances();
  const knownEntrypoints = [
    "astro/dist/internal/__astro_component.js",
    "astro/dist/internal/element-registry.js",
    "astro/dist/internal/fetch-content.js",
    "astro/dist/internal/__astro_slot.js",
    "astro/dist/internal/__astro_hoisted_scripts.js",
    "prismjs"
  ];
  for (const renderer of rendererInstances) {
    knownEntrypoints.push(renderer.server);
    if (renderer.client) {
      knownEntrypoints.push(renderer.client);
    }
    if (renderer.knownEntrypoints) {
      knownEntrypoints.push(...renderer.knownEntrypoints);
    }
    knownEntrypoints.push(...renderer.polyfills);
    knownEntrypoints.push(...renderer.hydrationPolyfills);
  }
  const external = snowpackExternals.concat([]);
  for (const renderer of rendererInstances) {
    if (renderer.external) {
      external.push(...renderer.external);
    }
  }
  const rendererSnowpackPlugins = rendererInstances.filter((renderer) => renderer.snowpackPlugin).map((renderer) => renderer.snowpackPlugin);
  const snowpackConfig = await loadConfiguration({
    root: fileURLToPath(projectRoot),
    mount: mountOptions,
    mode,
    plugins: [
      [fileURLToPath(new URL("../snowpack-plugin-jsx.cjs", import.meta.url)), astroPluginOptions],
      [fileURLToPath(new URL("../snowpack-plugin.cjs", import.meta.url)), astroPluginOptions],
      ...rendererSnowpackPlugins,
      resolveDependency("@snowpack/plugin-sass"),
      [
        resolveDependency("@snowpack/plugin-postcss"),
        {
          config: {
            plugins: __spreadValues({
              [resolveDependency("autoprefixer")]: {}
            }, astroConfig.devOptions.tailwindConfig ? {[resolveDependency("tailwindcss")]: astroConfig.devOptions.tailwindConfig} : {})
          }
        }
      ]
    ],
    devOptions: {
      open: "none",
      output: "stream",
      port: 0,
      hmr: isHmrEnabled,
      tailwindConfig: astroConfig.devOptions.tailwindConfig
    },
    buildOptions: {
      baseUrl: astroConfig.buildOptions.site || "/",
      out: fileURLToPath(astroConfig.dist)
    },
    packageOptions: {
      knownEntrypoints,
      external
    }
  });
  const polyfillNode = snowpackConfig.packageOptions.polyfillNode;
  if (!polyfillNode) {
    snowpackConfig.alias = Object.assign({}, Object.fromEntries(nodeBuiltinsMap), (_a = snowpackConfig.alias) != null ? _a : {});
  }
  snowpack = await startSnowpackServer({
    config: snowpackConfig,
    lockfile: null
  }, {
    isWatch: mode === "development"
  });
  const snowpackRuntime = snowpack.getServerRuntime();
  astroPluginOptions.configManager.snowpackRuntime = snowpackRuntime;
  return {snowpack, snowpackRuntime, snowpackConfig, configManager};
}
async function createRuntime(astroConfig, {mode, logging}) {
  let snowpack;
  const timer = {};
  const resolvePackageUrl = async (pkgName) => snowpack.getUrlForPackage(pkgName);
  timer.backend = performance.now();
  const {
    snowpack: snowpackInstance,
    snowpackRuntime,
    snowpackConfig,
    configManager
  } = await createSnowpack(astroConfig, {
    logging,
    mode,
    resolvePackageUrl
  });
  snowpack = snowpackInstance;
  debug(logging, "core", `snowpack created [${stopTimer(timer.backend)}]`);
  const runtimeConfig = {
    astroConfig,
    cache: {staticPaths: {}},
    logging,
    mode,
    snowpack,
    snowpackRuntime,
    snowpackConfig,
    configManager,
    manifest: createManifest({config: astroConfig})
  };
  snowpack.onFileChange(({filePath}) => {
    runtimeConfig.cache.staticPaths = {};
    if (filePath.includes(fileURLToPath(astroConfig.pages))) {
      runtimeConfig.manifest = createManifest({config: astroConfig});
    }
  });
  return {
    runtimeConfig,
    load: load.bind(null, runtimeConfig),
    getStaticPaths: getStaticPathsMemoized.bind(null, runtimeConfig),
    shutdown: () => snowpack.shutdown()
  };
}
export {
  createRuntime
};
//# sourceMappingURL=data:application/json;base64,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
