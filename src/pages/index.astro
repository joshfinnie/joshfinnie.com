---
import { getCollection } from "astro:content";

import BlogPostPreview from "@components/BlogPostPreview.astro";
import Hero from "@components/Hero.astro";
import Content from "@components/Content.astro";
import BaseLayout from "@src/layouts/BaseLayout.astro";

const allPosts = await getCollection("blog");
const posts = allPosts
  .filter((a) => a.data.draft != true)
  .sort((a, b) => Date.parse(b.data.date) - Date.parse(a.data.date))
  .slice(0, 5);
---

<BaseLayout title="Home | www.joshfinnie.com">
  <Hero />
  <Content />
</BaseLayout>
