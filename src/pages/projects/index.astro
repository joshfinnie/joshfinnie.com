---
import { getCollection } from "astro:content";

import BaseLayout from "@src/layouts/BaseLayout.astro";
import Project from "@components/Project.astro";

const allProjects = await getCollection("project");
const projects = allProjects.sort((a, b) => Date.parse(b.data.lastUpdated) - Date.parse(a.data.lastUpdated));
---

<BaseLayout title="Projects | www.joshfinnie.com">
  {
    projects.map((p) => (
      <Fragment key={p.id}>
        <Project id={p.id} />
      </Fragment>
    ))
  }
</BaseLayout>
