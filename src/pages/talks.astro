---
import { getCollection } from "astro:content";
import MCLightning from "@icons/mc_lightning_line.svg";

import BaseLayout from "@src/layouts/BaseLayout.astro";
import Talk from "@components/Talk.astro";

const allTalks = await getCollection("talks");
const talks = allTalks[0].data.sort((a, b) => Date.parse(b.date) - Date.parse(a.date));
---

<BaseLayout title="Talks | www.joshfinnie.com">
  <article id="main-content">
    <h1 class="font-bold text-3xl mb-10 mt-5 dark:text-white">Talks</h1>
    <p class="mb-5 text-base dark:text-white flex items-center">
      (<MCLightning
        style="display:inline-block h-6 w-6 text-zinc-500 transition group-hover:text-zinc-600 dark:text-zinc-400 dark:group-hover:text-zinc-300"
      />
      denotes a lightning talk)
    </p>
    {
      talks.map((t) => (
        <Fragment key={t.name}>
          <Talk talk={t} />
        </Fragment>
      ))
    }
  </article>
</BaseLayout>
